
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Instructions for setting up AirTouch AT581x Radar">
<meta name="keywords" content="radar">
<meta itemprop="name" content="AirTouch AT581x Radar">
<meta itemprop="description" content="Instructions for setting up AirTouch AT581x Radar">
<meta itemprop="image" content="https://esphome.io/_images/at581x.png">
<meta name="twitter:title" content="AirTouch AT581x Radar">
<meta name="twitter:image:src" content="https://esphome.io/_images/at581x.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up AirTouch AT581x Radar">
<meta property="og:title" content="AirTouch AT581x Radar">
<meta property="og:image" content="https://esphome.io/_images/at581x.png">
<meta property="og:type" content="website">
<meta property="og:description" content="Instructions for setting up AirTouch AT581x Radar">

    <title>AirTouch AT581x Radar &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="https://esphome.io/components/at581x.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BLE Client" href="ble_client.html" />
    <link rel="prev" title="Native API Component" href="api.html" />
  <link href="/pagefind/pagefind-modular-ui.css" rel="stylesheet">
  <link rel="stylesheet" href="../_static/custom.css?hash=573f3103" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="/_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="/_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="/_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="/_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="/_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/_static/favicon-16x16.png">
  <link rel="manifest" href="/_static/site.webmanifest">
  <link rel="mask-icon" href="/_static/safari-pinned-tab.svg" color="#646464">
  <link rel="me" href="https://fosstodon.org/@esphome">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="/_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo-text.svg" alt="Logo"/>
            </a></p><script src="/pagefind/pagefind-modular-ui.js"></script>
<div class="pagefind-ui__form" id="search"></div>
<div class="search-results" id="mobile-search-results"></div>
<script>
    let callbackAdded = null;

    window.addEventListener('DOMContentLoaded', (event) => {
        const std_target = document.getElementById("search-results");
        const mobile_target = document.getElementById("mobile-search-results");
        const inpel = document.getElementById("search");

        function showTarget() {
            var target = std_target;
            if (window.innerWidth <= 875) {
                target = mobile_target;
                std_target.style.display = "none";
            } else {
                mobile_target.style.display = "none";
            }
            target.style.display = "block";
            const rect = target.getBoundingClientRect();
            const height = window.innerHeight;
            target.style.width = "100%";
            target.style.height = "fit-content";
            target.style.maxHeight = (height - rect.top - 10) + "px";
            if (!callbackAdded) {
                callbackAdded = true;
                document.addEventListener('click', clickCallback);
            }
        }

        function hideTargets() {
            std_target.style.display = "none";
            mobile_target.style.display = "none";
            std_target.style.height = "0";
            mobile_target.style.height = "0";
            if (callbackAdded) {
                document.removeEventListener('click', clickCallback);
                callbackAdded = false;
            }
        }


        const instance = new PagefindModularUI.Instance({
            showSubResults: true,
            showImages: false,
            ranking: {
                pageLength: 0.0,
                termSaturation: 1.6,
                termFrequency: 0.4,
                termSimilarity: 6.0
            }
        });

        instance.add(new PagefindModularUI.Input({
            containerElement: "#search"
        }));

        instance.add(new PagefindModularUI.ResultList({
            containerElement: "#search-results"
        }));
        instance.add(new PagefindModularUI.ResultList({
            containerElement: "#mobile-search-results"
        }));

        const clickCallback = (event) => {
            const path = event.composedPath();
            if (path.includes(std_target) || path.includes(mobile_target) || path.includes(inpel))
                return;
            hideTargets();
        };
        if (std_target && mobile_target) {
            instance.on("results", (results) => {
                if (results.results.length) {
                    showTarget();
                } else {
                    hideTargets();
                }
            });
        }
    });
</script>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">AirTouch AT581x Radar</a><ul>
<li><a class="reference internal" href="#component-hub">Component/Hub</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#binary-sensor">Binary Sensor</a><ul>
<li><a class="reference internal" href="#id1">Configuration variables:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#switch">Switch</a><ul>
<li><a class="reference internal" href="#id2">Configuration variables:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#actions">Actions</a><ul>
<li><a class="reference internal" href="#at581x-settings-action"><code class="docutils literal notranslate"><span class="pre">at581x.settings</span></code> Action</a><ul>
<li><a class="reference internal" href="#id3">Configuration variables:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at581x-reset-action"><code class="docutils literal notranslate"><span class="pre">at581x.reset</span></code> Action</a><ul>
<li><a class="reference internal" href="#id4">Configuration variables:</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  <ul class="breadcrumbs">
  
      <li><a href="index.html">Components</a> ➔</li>
      <li>AirTouch AT581x Radar</li>

  
  </ul>
  <div class="search-results" id="search-results"></div>


          <div class="body" role="main">
            
  <section id="airtouch-at581x-radar">
<h1>AirTouch AT581x Radar<a class="headerlink" href="#airtouch-at581x-radar" title="Permalink to this heading">¶</a></h1>
<p>The <a class="reference external" href="https://en.airtouching.com/product/32.html">AirTouch AT581x radar</a>
(aka <code class="docutils literal notranslate"><span class="pre">AT581x</span></code>) is a familly of 5.8GHz radar which can be used for human presence detection. It can detect tiny movements
and compared to a PIR sensor <strong>it can detect presence continuously</strong>. This can be useful, for example, to turn
the lights on when you enter a room, keep them on as long as you are there (without waving your hands at the
sensor) and turn them off almost immediately after you leave the room.</p>
<p>They are ultra-low power (as low as 40µA of current consumption) and are extremely simple to use, yet can be setup by I2C.
It’s installed in many low cost appliance, like the ESP32S3-BOX-3, and can be found by many different manufacturer or reference,
like the MoreSense MS58-3909S68U4.</p>
<p>It is possible to use this sensor with only a single GPIO pin; however, if you wish to change its settings,
a <a class="reference internal" href="i2c.html"><span class="doc">I²C Bus</span></a> component (and its requisite GPIO pins) is required in your device’s configuration.</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../_images/at581x.png"><img alt="../_images/at581x.png" src="../_images/at581x.png" style="width: 75%;" /></a>
<figcaption>
<p><span class="caption-text">AirTouch AT581x Radar / presence detection sensor</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="nt">at581x</span><span class="p">:</span>
<span class="w">  </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Radar&quot;</span>
<span class="w">  </span><span class="nt">i2c_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bus_a</span>
</pre></div>
</div>
<section id="component-hub">
<span id="at581x-component"></span><h2>Component/Hub<a class="headerlink" href="#component-hub" title="Permalink to this heading">¶</a></h2>
<p>You need to have the hub component (<code class="docutils literal notranslate"><span class="pre">at581x:</span></code> entry) defined to be able to change the sensor’s
settings, get it listed as an motion entity or being able to turn on/off the radio frequency emmission.
A <a class="reference internal" href="binary_sensor/gpio.html"><span class="doc">GPIO Binary Sensor</span></a> alone could be sufficient if you only want
to determine presence/occupancy. When you define <code class="docutils literal notranslate"><span class="pre">at581x:</span></code> you’ll need to have a <code class="docutils literal notranslate"><span class="pre">i2c:</span></code> entry in
your configuration with both the SDA and SCL pins defined.</p>
<p>Multiple instances of this component may be defined if multiple <a class="reference internal" href="i2c.html"><span class="doc">I²C Bus</span></a> components are available:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">at581x</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mmWave_1</span>
<span class="w">    </span><span class="nt">i2c_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bus_a</span>
<span class="w">    </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0x28</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mmWave_2</span>
<span class="w">    </span><span class="nt">i2c_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bus_a</span>
<span class="w">    </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0x29</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<section id="configuration-variables">
<h3>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation. Necessary if you want
to define multiple instances of this component.</p></li>
<li><p><strong>i2c_id</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID of the <a class="reference internal" href="i2c.html"><span class="doc">I²C Bus</span></a> if you want
to use multiple I2C buses.</p></li>
</ul>
</section>
</section>
<section id="binary-sensor">
<span id="at581x-binary-sensor"></span><h2>Binary Sensor<a class="headerlink" href="#binary-sensor" title="Permalink to this heading">¶</a></h2>
<p>The state of the radar detection is available via its GPIO pin. It’s required to use a GPIO binary sensor to monitor the motion status</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">binary_sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpio</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Human</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">front&quot;</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GPIOXX</span>
</pre></div>
</div>
<section id="id1">
<h3>Configuration variables:<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Refer to other options from <a class="reference internal" href="binary_sensor/index.html#config-binary-sensor"><span class="std std-ref">Binary Sensor</span></a> and <a class="reference internal" href="binary_sensor/gpio.html"><span class="doc">GPIO Binary Sensor</span></a>.</p></li>
</ul>
</section>
</section>
<section id="switch">
<span id="at581x-switch"></span><h2>Switch<a class="headerlink" href="#switch" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="switch/index.html#config-switch"><span class="std std-ref">Switch components</span></a> are used to enable/disable radio frequency hardware.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">switch</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">at581x</span>
<span class="w">    </span><span class="nt">at581x_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Radar</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Enable</span><span class="nv"> </span><span class="s">Radar&quot;</span>
</pre></div>
</div>
<section id="id2">
<h3>Configuration variables:<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>at581x_id</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the AT581x component defined above.
Required when multiple instances of the <code class="docutils literal notranslate"><span class="pre">at581x</span></code> component are defined.</p></li>
<li><p>All other options from <a class="reference internal" href="switch/index.html#config-switch"><span class="std std-ref">Switch</span></a>.</p></li>
</ul>
</section>
</section>
<section id="actions">
<span id="at581x-actions"></span><h2>Actions<a class="headerlink" href="#actions" title="Permalink to this heading">¶</a></h2>
<section id="at581x-settings-action">
<span id="at581x-action-settings"></span><h3><code class="docutils literal notranslate"><span class="pre">at581x.settings</span></code> Action<a class="headerlink" href="#at581x-settings-action" title="Permalink to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The hardware frontend reset option is only required to reset the frontend in case it is struck, before sending the
new configuration. However, a frontend reset is always performed after changing the settings.</p>
</div>
<p>The radar has several settings which can be changed. These settings are not saved in non-volatile memory
and need to be set on each boot.</p>
<p>The settings action allows changing of any number of the radar’s internal parameters/settings. With this
action, any unspecified parameters will remain unchanged.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">on_...</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">at581x.settings</span><span class="p">:</span>
<span class="w">      </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Waveradar&quot;</span>
<span class="w">      </span><span class="nt">hw_frontend_reset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5800MHz</span>
<span class="w">      </span><span class="nt">sensing_distance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span><span class="w"> </span><span class="c1"># 0-1023</span>
<span class="w">      </span><span class="nt">poweron_selfcheck_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2000ms</span>
<span class="w">      </span><span class="nt">protect_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1s</span>
<span class="w">      </span><span class="nt">trigger_base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500ms</span>
<span class="w">      </span><span class="nt">trigger_keep</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10s</span>
<span class="w">      </span><span class="nt">stage_gain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w"> </span><span class="c1"># 0-12 the higher the value the smaller the gain</span>
<span class="w">      </span><span class="nt">power_consumption</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">70µA</span>
</pre></div>
</div>
<section id="id3">
<h4>Configuration variables:<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID of the sensor on which settings should be
changed. If only one radar is defined, this is optional.</p></li>
<li><p><strong>hw_frontend_reset</strong> (<em>Optional</em>, boolean): If set to true, a reset of the analog frontend will be performed before
changing other options. Ignored if not set or set to <code class="docutils literal notranslate"><span class="pre">false</span></code>. Upon applying the settings a frontend reset
will be performed anyway, this is only useful if the sensor is not answering or locked up.</p></li>
<li><p><strong>frequency</strong> (<em>Optional</em>, int): Any of the possible frequencies (5696, 5715, 5730, 5748, 5765, 5784, 5800, 5819, 5836, 5851, 5869, 5888) in MHz.</p></li>
<li><p><strong>sensing_distance</strong> (<em>Optional</em>, int): A unitless number, in range 0-1023, specifying the maximum distance to detect motion</p></li>
<li><p><strong>poweron_selfcheck_time</strong> (<em>Optional</em>, int): The delay to perform self check and calibration on power on. Recommanded not to change this</p></li>
<li><p><strong>protect_time</strong> (<em>Optional</em>, int): The delay after an end-of-trigger event where the detection will not trigger anymore. Max 65535ms</p></li>
<li><p><strong>trigger_base</strong> (<em>Optional</em>, int): The delay while a detection must be active to change the state of the sensor. Max 65535ms</p></li>
<li><p><strong>trigger_keep</strong> (<em>Optional</em>, int): The delay that the output will stay high after a detection event. This is usually what you want to change.</p></li>
<li><p><strong>stage_gain</strong> (<em>Optional</em>, int): The analog gain to use for threshold test. Any value in range 0-12, with 12 being the lowest gain and 0 the highest</p></li>
<li><p><strong>power_consumption</strong> (<em>Optional</em>, int): Any of the possible power profile (48, 56, 63, 70, 77, 91, 105, 115, 40, 44, 47, 51, 54, 61, 68, 78) in µA</p></li>
</ul>
</section>
</section>
<section id="at581x-reset-action">
<h3><code class="docutils literal notranslate"><span class="pre">at581x.reset</span></code> Action<a class="headerlink" href="#at581x-reset-action" title="Permalink to this heading">¶</a></h3>
<p>Restart the sensor.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">on_...</span><span class="p">:</span>
<span class="w">  </span><span class="nt">at581x.reset</span><span class="p">:</span>
</pre></div>
</div>
<section id="id4">
<h4>Configuration variables:<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID of the AT581x component. Useful when multiple instances of this component are defined.</p></li>
</ul>
</section>
</section>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="i2c.html#i2c"><span class="std std-ref">I2C bus</span></a></p></li>
<li><p><a class="reference internal" href="binary_sensor/index.html#config-binary-sensor"><span class="std std-ref">Binary Sensor</span></a></p></li>
<li><p><a class="reference internal" href="binary_sensor/gpio.html"><span class="doc">GPIO Binary Sensor</span></a></p></li>
<li><p><a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/components/at581x.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been released since you last visited this page: 2024.5.4 🎉
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="/changelog/2024.5.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("/changelog/", 0) === 0) { window.localStorage.setItem("version", "2024.5");
    } else if (old !== "2024.5") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2024.5");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>